<body>
  <header>
    <img src="/assets/10d.jpg" alt="Company Logo" class="logo">&nbsp;
    <h1 style="color: blue;font-family: fantasy;">User Management Welcome You!</h1>
    <nav class="navigation">
      <a href="http://localhost:4200">Home</a>&nbsp;
      <a href="http://localhost:4200/about">About</a>&nbsp;
      <a href="http://localhost:4200/contact">Contact</a>&nbsp;
      <button type="button" class="btn btn-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#logoutModal">Logout</button>
    </nav>
  </header>
  
  <div class="container">
    <div class="card mt-5">
      <div class="card-header text-center">
        <h3>User Management</h3>
      </div>
      <div class="card-body">
        <!-- Error message -->
        <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
        
        <!-- User List -->
        <h4>Users</h4>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>S.No</th>
              <th>UserId</th>
              <th>Username</th>
              <th>Name</th>
              <th>Role</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ user.id }}</td>
              <td>{{ user.userName }}</td>
              <td>{{ user.name }}</td>
              <td>{{ user.role }}</td>
              <td>
                <button (click)="confirmDelete(user.id)" class="btn btn-danger">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
        
        <!-- Add User Form -->
        <h4>Add New User</h4>
        <form (ngSubmit)="addUser()">
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" [(ngModel)]="newUser.username" name="username" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" [(ngModel)]="newUser.name" name="name" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" [(ngModel)]="newUser.password" name="password" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" id="confirmPassword" [(ngModel)]="newUser.confirmPassword" name="confirmPassword" class="form-control" required>
          </div>
          <div class="form-group">
            <label for="role">Role</label>
            <select id="role" [(ngModel)]="newUser.role" name="role" class="form-control" required>
              <option value="user">User</option>
              <option value="admin">Admin</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary">Add User</button>
        </form>
      </div>
    </div>
    
    <!-- Success message -->
    <div *ngIf="successMessage" class="alert alert-success fixed-bottom" role="alert">
      <h4 class="alert-heading">Well done!</h4>
      <p>{{ successMessage }}</p>  
    </div>
  </div>
  <!-- Bootstrap Modal for Logout Confirmation -->
<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="logoutModalLabel">Confirm Logout</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to log out? 
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <a href="http://localhost:4200/login" class="btn btn-primary">Logout</a>
      </div>
    </div>
  </div>
</div>
</body>
